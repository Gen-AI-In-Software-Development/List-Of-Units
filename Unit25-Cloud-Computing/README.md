# Unit-25-Cloud-Computing
## Introduction

In this unit, we will ask copilot to assist us in deploying a simple function to Azure Functions, AWS Lambda, Google Cloud Platform, and the FN Project.

## Use Case

Serverless computing involves the use of a server that is in the cloud and managed by another party. This can be hugely convenient for an organization that wants to focus on code development and would prefer to avoid dealing with the many issues surrounding server administration. This can reduce operational overhead.

The user of the cloud resource (the one who deploys the service) only pays for the resources used.

This use case involves attempting to deploy functions to Azure Functions[1], AWS Lambda[2], Google Cloud Platform[3], and Oracle supported open source FN Project[4]. If successful, we want to make calls to the functions from a local client.

Systems such as these are called function-as-a-service (FaaS) cloud platforms.

## Prompts and Code Critique

We will show each prompt and the resulting response generated by Copilot. We will follow each example with a short critique and a rating. The ratings will be Poor, Fair, or Good.

These examples use Microsoft copilot provided here: [Microsoft copilot](https://copilot.microsoft.com/).

### Example 2.1 prompt: I would like to write and deploy a simple Hello World service to Microsoft functions. I need step-by-step instructions. I am a student of this technology and so I do not want to pay a fee for the service or provide a credit card. I would like to write my service using Node.js.

### Generated Response:
```
Steps were provided but see the critique.
```

### Critique
A reasonable series of steps was provided, but when followed, the reader was asked to provide a credit card.
The prompt was clear that a credit card would not be used. So, I followed up with a new prompt. Rating: Poor


### Example 2.2 prompt: Azure asked for a credit card. I said that I was not willing to provide a credit card even though it is free. I need an educator's account.

### Generated Response:
```

Step 1: Sign Up for Azure for Students
Go to the Azure for Students page.
Click on “Activate now”.
Sign in with your school email address. This should be an email provided by your educational institution.
Fill in the required details and complete the sign-up process.

Step 2: Install Required Tools
Install Node.js: Download and install Node.js from the official website.
Install Azure Functions Core Tools: Open your terminal or command prompt and run:
npm install -g azure-functions-core-tools@4 --unsafe-perm true

Step 3: Create a Local Function Project
Create a new directory for your project and navigate into it:
mkdir myFunctionApp
cd myFunctionApp

Initialize a new Azure Functions project:
func init . --javascript

Create a new function:
func new

Select HTTP trigger when prompted.
Name your function HelloWorld.
Step 4: Write Your “Hello World” Function
Open the index.js file in the HelloWorld directory and replace its content with:
JavaScript

module.exports = async function (context, req) {
    context.log('JavaScript HTTP trigger function processed a request.');
    const name = (req.query.name || (req.body && req.body.name));
    const responseMessage = name
        ? "Hello, " + name + ". This HTTP triggered function executed successfully."
        : "Hello, World. This HTTP triggered function executed successfully.";
    context.res = {
        // status: 200, /* Defaults to 200 */
        body: responseMessage
    };
};
AI-generated code. Review and use carefully. More info on FAQ.
Step 5: Test Your Function Locally
Start the function app:
func start

Test your function: Open your browser and navigate to http://localhost:7071/api/HelloWorld?name=Azure. You should see the message “Hello, Azure. This HTTP triggered function executed successfully.”
Step 6: Deploy to Azure
Sign in to Azure:
az login

Create a new Function App in Azure:
az functionapp create --resource-group myResourceGroup --consumption-plan-location eastus --runtime node --runtime-version 14 --functions-version 3 --name <your-function-app-name> --storage-account <your-storage-account-name>

Deploy your function:
func azure functionapp publish <your-function-app-name>

Step 7: Test Your Deployed Function
Get the function URL: After deployment, you can find the function URL in the Azure portal or by running:
az functionapp function show --resource-group myResourceGroup --name <your-function-app-name> --function-name HelloWorld --query "invokeUrlTemplate" --output tsv

Test your function: Open your browser and navigate to the URL you obtained, appending ?name=Azure to it.
This should help you get started without needing to provide a credit card. If you have any questions or run into any issues, feel free to ask!
```
### Critique
On the plus side, these directions took us to a web site that did not require a credit card. On the minus side, the directions do not work. No "index.js" was found in the directory and no directions were provided on how to navigate the directory structure that was created. Rating: poor.

### Example 2.3 prompt: I would like to write and deploy a simple Hello World service to AWS Lambda. I need step-by-step instructions. I am a student of this technology and so I do not want to pay a fee for the service or provide a credit card. I would like to write my service using Node.js.

### Generated Response:
```
Steps were provided but see the critique.
```

### Critique
A reasonable series of steps were provided but, when followed, always led to a page
requiring a credit card. It is not clear to me if Copilot had made an error or
if the AWS page was poorly designed. But, at the end of several hours of working
with Copilot and AWS, no simple solution was found. AWS Educate claims to be credit
card free but no simple solution was provided. Rating: Poor

### Example 2.4 prompt: I would like to write and deploy a simple Hello World service to Google Cloud Platform. I need step-by-step instructions. I am a student of this technology and so I do not want to pay a fee for the service or provide a credit card. I would like to write my service using Node.js.

### Generated Response:
```
Step-by-Step Instructions to Deploy a Hello World Function on GCP

Sign Up for Google Cloud Free Tier:

Go to the Google Cloud Free Tier page and sign up for an account. Google Cloud offers a free tier that includes $300 in free credits for 90 days, which should be sufficient for learning purposes.

Activate Google Cloud Shell:

Once logged in, click on the Cloud Shell icon (a terminal icon) in the top right corner of the Google Cloud Console. This will open a terminal session directly in your browser.

Create a New Project:

In the Cloud Shell, create a new project:
gcloud projects create hello-world-project

Set the new project as the active project:
gcloud config set project hello-world-project

Enable Cloud Functions API:
Enable the Cloud Functions API for your project:
gcloud services enable cloudfunctions.googleapis.com

Write Your Cloud Function:
Create a new directory for your function and navigate into it:
mkdir hello-world-function
cd hello-world-function

Create a file named index.js and add the following code:
JavaScript

exports.helloWorld = (req, res) => {
    res.send('Hello, World!');
};
AI-generated code. Review and use carefully. More info on FAQ.
Create a package.json file with the following content:
JSON

{
  "name": "hello-world-function",
  "version": "1.0.0",
  "main": "index.js",
  "dependencies": {}
}
AI-generated code. Review and use carefully. More info on FAQ.
Deploy Your Cloud Function:
Deploy the function using the following command:
gcloud functions deploy helloWorld --runtime nodejs16 --trigger-http --allow-unauthenticated

Test Your Cloud Function:
After deployment, you will receive a URL for your function. Open this URL in your browser to see the “Hello, World!” message.
```

An error resulted and was posted back to Copilot. Copilot suggested:

```
It looks like the ability to create new projects in Google Cloud Platform (GCP) has been disabled by your administrator. To resolve this, you’ll need to ask your administrator to enable project creation. Here are the steps they can follow:

Sign in to the Admin console: Go to admin.google.com.
Navigate to Apps: Select Apps > Additional Google services.
Find Google Cloud Platform: Look for Google Cloud Platform and click on it.
Enable Project Creation: Check the box that says Allow users to create projects.
Save Changes: Click Save to apply the changes

```

### Critique
The solution provided does not mention that an administrator account is required to
approve the use of these services. Rating: poor.

### Example 2.5 I would like to deploy a simple hello world service to FN project. Please provide directions.

```
Step 1: Install Fn Project
First, you need to install the Fn CLI. You can do this by running the following command:

curl -LSs https://raw.githubusercontent.com/fnproject/cli/master/install | sh

Step 2: Start the Fn Server
Next, start the Fn server with:

fn start

This will start the Fn server locally on your machine.

Step 3: Initialize Your Function
Create a new function with the following command:

fn init --runtime node nodefn

This command initializes a new function in the nodefn directory using the Node.js runtime.

Step 4: Review Your Function
Navigate to the nodefn directory and review the generated files:

cd nodefn
ls

You should see files like func.js, func.yaml, and package.json.

Step 5: Edit the Function
Open func.js and you should see a simple function:

JavaScript

const fdk = require('@fnproject/fdk');
fdk.handle(function(input) {
  let name = 'World';
  if (input.name) {
    name = input.name;
  }
  return { 'message': 'Hello ' + name };
});
AI-generated code. Review and use carefully. More info on FAQ.
This function returns a “Hello World” message.

Step 6: Deploy the Function
Deploy your function to the Fn server:

fn deploy --app myapp --local

This command deploys your function to a local application named myapp.

Step 7: Invoke the Function
Finally, invoke your function to see the output:

fn invoke myapp nodefn

You should see the output:

JSON

{"message":"Hello World"}
AI-generated code. Review and use carefully. More info on FAQ.
That’s it! You’ve successfully deployed a simple “Hello World” service using the Fn Project12.

```
### Critique
The solution provided worked well. It should be noted, however, that the solution involved running a local docker container and deploying the function to the container. This is a local cloud FaaS. Rating: Good.


## Exercises

1. Interact with Copilot to create and deploy a "Hello World" function on Microsoft Azure. How would you rate this interaction? Poor, Fair, or Good?
2. Interact with Copilot to create and deploy a "Hello World" function on AWS Lambda. How would you rate this interaction? Poor, Fair, or Good?
3. Interact with Copilot to create and deploy a "Hello World" function on Google Cloud Platform. How would you rate this interaction? Poor, Fair, or Good?
4. Interact with Copilot to create and deploy a "Hello World" function using the FN Project and use Copilot to learn how you you might deploy that service remotely. How would you rate this interaction? Poor, Fair, or Good?

## References

[1] Azure Functions https://azure.microsoft.com/en-us/products/functions
[2] AWS Lambda https://aws.amazon.com/lambda/
[3] Google Cloud Functions https://cloud.google.com/functions
[4] FN Project https://fnproject.io/
